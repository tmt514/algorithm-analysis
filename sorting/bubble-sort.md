# 泡沫排序法

泡沫排序法 (Bubble Sort) 是一種利用氣泡往上面浮的概念所發明出來的排序方法。
不同大小的氣泡就像是會跟隔壁的人說「借過」一樣，利用不斷**交換相鄰兩個元素**來達到排序的效果。

假設我們有 $n$ 筆資料。如果我們要實作泡沫排序法，我們可以重複掃描這個陣列，只要發現相鄰兩個數字的大小順序是錯誤的，便交換兩者。
一旦發覺陣列已排好序，就可以停止作業了。寫成程式碼長得像下面這樣：

```cpp
// 泡沫排序法，呼叫完畢後 arr[] 內的元素將由小至大排列。
void BubbleSort(data_t arr[], int n) {
  while (AlreadySorted(arr, n) == false) {
    // 呼叫 AlreadySorted 函式，檢查陣列是否已排序。
    for (int i = 0; i + 1 < n; i++)
      if (arr[i] > arr[i + 1])
        swap(arr[i], arr[i + 1]);
  }
}
```

## 正確性

要怎麼證明呼叫 BubbleSort 以後，演算法能夠正確地將 `arr[]` 裡面的資料排好順序呢？
我們可以利用數學歸納法證明以下敘述：

> 第 $k$ 次執行 for-loop 之後，最大的 $k$ 個元素已被正確地排入 `arr[n-k]...arr[n-1]`。

## 時間複雜度

如果輸入的資料已經排好順序了，那麼泡沫排序便只花費 $O(n)$ 時間檢查陣列是否已排序。
